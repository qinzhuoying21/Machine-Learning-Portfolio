# 坦尼克号项目学习笔记（二分类竞赛标准流程）
步骤：
1. 数据获取与理解
2. 数据探索性分析（EDA）
3. 特征工程（重点包括缺失值处理、特征选择等）
4. 模型选择与训练（这里提到了逻辑回归，但也可以尝试其他模型）
5. 模型评估（包括在训练集上的评估和利用交叉验证等方法）
6. 对测试集进行预测并提交结果

## 一、比赛前期：任务定义与数据获取
- **明确任务**：利用乘客特征 → 预测 是否存活（Survived，0/1 二分类）
- **下载数据**：训练集（有标签）、测试集（无标签，用于提交）
- **训练集 vs 测试集核心区别**：
  - 特征列完全一致
  - 训练集有 Survived 标签，测试集无
  - 所有预处理必须使用训练集统计量，禁止使用测试集信息（数据泄露）

## 二、数据认知：看懂数据（建模基础）
- **查看列名与业务含义**：理解缩写对应现实意义（Pclass = 舱位，SibSp = 兄弟姐妹 / 配偶数等）
- **识别数据类型**：数值型（连续 / 离散）、分类型（标称 / 有序）、文本型
- **缺失值检查（核心）**：使用 isna().sum()、计算缺失率，为特征工程提供依据
- **数据分布观察**：
  - 分类特征：各类别比例、是否均衡
  - 数值特征：正态 / 偏态、异常值趋势

## 三、特征工程第一步：数据清洗（缺失值 + 无用特征）
### 1. 缺失值处理（三要素：类型 + 缺失率 + 分布）
- 数值特征（偏态 / 异常值多）→ 中位数填充（稳健）
- 数值特征（近似正态）→ 均值填充
- 分类特征 → 众数填充（对分布影响最小）
- 缺失率 > 50% → 直接删除（填充偏差过大）

### 2. 特征删除原则
- 缺失率极高
- 高基数、无业务意义（如 Ticket 票号）
- 与标签无关、处理成本高

## 四、探索性数据分析 EDA（挖掘规律）
### 1. 单变量分析
- 数值：分布、异常值、统计量
- 分类：类别数、占比、稀有类别

### 2. 特征 ↔ 标签（核心）
- 分类特征：生存率差异、堆叠柱状图、卡方检验
- 数值特征：分箱生存率、箱线图、相关性

### 3. 特征 ↔ 特征
- 相关性矩阵、交叉表
- 组合特征（如家庭大小、头衔）

### 4. 训练 / 测试分布一致性检查
- 避免分布偏移导致模型失效

## 五、异常值处理
### 识别方法
- 箱线图、3σ 法则、业务常识、残差分析

### 处理策略（优先级）
- 保留并分箱 > 截断 > 统计量填充 > 删除 > 新增 “是否异常” 特征

## 六、模型选择与训练（逻辑回归）
### 1. 适用场景
- 二分类任务（存活 / 死亡），输出概率，可解释性强

### 2. 核心原理（正确理解）
- 对特征做线性组合
- 通过 Sigmoid 函数映射到 (0,1)，输出存活概率
- 以 0.5 为阈值：>0.5 = 存活 (1)，≤0.5 = 死亡 (0)

### 3. Sigmoid = 概率的原因
- 值域 (0,1) + 极大似然估计 + 广义线性模型标准链接函数

## 七、模型评估（训练集 / 验证集）
### 1. 数值指标
- 准确率、精确率、召回率、F1、AUC（二分类首选）

### 2. 可视化评估
- 预测概率分布：存活→接近 1，死亡→接近 0
- 残差分析：期望随机均匀分布，无规律模式（单调 / 喇叭 / 周期 = 模型缺陷）
- 学习曲线：判断过拟合 / 欠拟合

### 3. 无测试标签时的评估（比赛必备）
- K 折交叉验证（最常用）
- 训练 / 验证集划分
- 误差稳定性、特征重要性稳定性

## 八、测试集预测（竞赛关键：杜绝数据泄露）
- 对测试集执行与训练集完全相同的预处理
- 填充必须用训练集的均值 / 中位数 / 众数（不可用测试集统计量）
- 删除与训练集一致的无用特征
- 构造结果占位列（Survived）
- 模型预测 → 阈值分类 → 填充结果

## 九、结果提交（CGO 竞赛要求）
- 严格遵守官方提交格式（列名、顺序、编码、文件名）
- 只保留要求列（如 PassengerId + Survived）
- 确保无缺失、无异常值、类别正确

## 十、核心红线（必记）
- 测试集任何信息不可用于训练 / 预处理（数据泄露 = 成绩虚高无效）
- 缺失值处理优先业务逻辑，而非单纯填充
- 模型评估必须用验证集 / 交叉验证，不可只看训练集
- 提交格式必须与要求完全一致